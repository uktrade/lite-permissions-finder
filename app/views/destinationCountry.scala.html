@import util._
@import views.html.common.page._
@import views.html.common.form._
@import views.html.common.state._
@import models.common.Country
@import controllers.DestinationCountryController

@(form: Form[_], countries: List[Country], numberOfThroughDestinationCountries: Int, fieldOrderList: List[String])
@standardPage("Countries and territories", Some(Html("Countries and territories")), pageName = Some("destinationCountry")){
  @errorSummary(form, fieldOrder = fieldOrderList)
}{

  <form action="@routes.DestinationCountryController.handleSubmit()" method="POST">

    @contextFormParams()

    <input type="submit" class="hidden"></input>

    <h2 class="heading-medium">Where is the final destination of your items?</h2>

    @countrySelect(form(DestinationCountryController.FINAL_DESTINATION_COUNTRY_FIELD_NAME), "Type your destination country or territory", null, false, true, countries)

    @formRadioBoolean(form(DestinationCountryController.ITEM_THROUGH_MULTIPLE_COUNTRIES_FIELD_NAME), Html("Will your items pass through any other countries before they reach their final destination?"))

    <p class="js-hidden">
      <span class="bold-medium">If yes, please add the countries below</span>
    </p>

    <div id="through-destination-countries-wrapper" class="js-hidden">

      @countrySelectGenerator(form, DestinationCountryController.THROUGH_DESTINATION_COUNTRIES_FIELD_NAME, numberOfThroughDestinationCountries, "Type the country or territory your items will pass through", countries)

      @if(numberOfThroughDestinationCountries < DestinationCountryController.MAX_NUMBER_OF_THROUGH_COUNTRIES) {
        <div class="form-group">
          <button type="submit" class="link" name="addAnotherThroughDestination" value="true">Add another destination</button>
        </div>
      }

    </div>

    <div class="form-group">
      <button type="submit" class="button">Continue</button>
    </div>
  </form>

}