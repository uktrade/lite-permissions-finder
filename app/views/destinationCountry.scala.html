@import util._
@import views.html.common.page._
@import views.html.common.form._
@import views.html.common.state._
@import models.common.Country
@(form: Form[_], countries: List[Country], numberOfDestinationCountries: Int)


@standardPage("Where are your items being sent to?", Some(Html("Where are your items being sent to?"))){
  @errorSummary(form)
}{

  <form action="@routes.DestinationCountryController.handleSubmit()" method="POST">

    @contextFormParams()

    <input type="submit" class="hidden"></input>

    @countrySelectGenerator(form, "destinationCountry", numberOfDestinationCountries, countries)

    <div class="form-group">
      @detailPanel("destination-help"){
        Can't find your destination?
      } {

        <p>
          If you can't find your destination, country to territory you can get help from the
          government's Export Control Organisation
        </p>

          @helpInfoPanel()

      }
    </div>

    @if(numberOfDestinationCountries >= DestinationCountryController.MIN_NUMBER_OF_COUNTRIES && numberOfDestinationCountries < DestinationCountryController.MAX_NUMBER_OF_COUNTRIES) {
      <div class="form-group">
        <button type="submit" class="link" name="addAnotherDestination" value="true">Add another destination</button>
      </div>
    }

    @if(numberOfDestinationCountries > DestinationCountryController.MIN_NUMBER_OF_COUNTRIES) {
      <div class="form-group">
        <button type="submit" class="link" name="removeLastDestination" value="true">Remove last destination</button>
      </div>
    }

    <div class="form-group">
      <button type="submit" class="button">Continue</button>
    </div>
  </form>

}