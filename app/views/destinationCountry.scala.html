@import util._
@import views.html.common.page._
@import views.html.common.form._
@import views.html.common.state._
@import models.common.Country
@(form: Form[_], countries: List[Country], numberOfThroughDestinationCountries: Int)


@standardPage("Countries and territories", Some(Html("Countries and territories"))){
  @errorSummary(form)
}{

  <form action="@routes.DestinationCountryController.handleSubmit()" method="POST">

    @contextFormParams()

    <input type="submit" class="hidden"></input>

    <h2 class="heading-medium">Where is the final destination of your items?</h2>

    @countrySelect(form("finalDestinationCountry"), "Type your destination country or territory", null, false, true, countries)

    @formRadioBoolean(form("itemThroughMultipleCountries"), Html("Will your items pass through any other countries before they reach their final destination?"))

    <p class="js-hidden">
      <span class="bold-medium">If yes, please add the countries below</span>
    </p>

    <div id="through-destination-countries-wrapper">

      @countrySelectGenerator(form, "throughDestinationCountries", numberOfThroughDestinationCountries, countries)

      @if(numberOfThroughDestinationCountries < DestinationCountryController.MAX_NUMBER_OF_THROUGH_COUNTRIES) {
        <div class="form-group">
          <button type="submit" class="link" name="addAnotherThroughDestination" value="true">Add another destination</button>
        </div>
      }

    </div>

    <div class="form-group">
      <button type="submit" class="button">Save and continue</button>
    </div>
  </form>

}