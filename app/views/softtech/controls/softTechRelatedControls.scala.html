@import models.softtech.controls.SoftTechControlsDisplay
@import util._
@import views.html.common.page._
@import views.html.common.form._
@import views.html.common.state._
@import controllers.softtech.controls.routes.SoftTechRelatedControlsController

@import models.controlcode.BackType
@(form: Form[_], display: SoftTechControlsDisplay)
@standardPage(display.pageTitle, Some(Html(display.pageTitle))){
  @errorSummary(form)
}{

  <form action="@SoftTechRelatedControlsController.handleSubmit" method="POST">

    @contextFormParams()

    @if(!display.preResultsLabel.isEmpty) {
      <p class="pre-search-results font-small">
        @display.preResultsLabel
      </p>
    }

    <ol class="search-results">
      @for(i <- 0 until display.controlCodes.size) {
        <li>
          <button id="@display.controlCodes.get(i).getControlCode-button" type="submit" class="link font-medium" name="controlCode" value="@display.controlCodes.get(i).getControlCode">@Html(display.controlCodes.get(i).getFriendlyDescription)</button>
        </li>
      }
    </ol>

    <div class="search-result-actions">
      <button type="submit" name="action" value="@BackType.RESULTS" class="link underlined font-small no-matched-result-link">Back to previous list of results</button>
    </div>

  </form>

}