@import util._
@import views.html.common.page._
@import views.html.common.form._
@import views.html.common.state._
@import models.controlcode.AdditionalSpecificationsDisplay
@import controllers.controlcode.routes._

@(form: Form[_], display: AdditionalSpecificationsDisplay)
@standardPage(display.title, Some(heading(display.title)), twoThirdsColumn = false){
  @errorSummary(form)
} {

  <ul class="tree">

    @if(display.showGreatestAncestor) {
      <li>
        <span class="tree-dot"></span>
        <span class="tree-desc">
          <span class="tree-desc-wrapper">@Html(display.greatestAncestor.getFriendlyDescription)</span>
        </span>
        <span class="tree-code">@display.greatestAncestor.getAlias</span>
      </li>
    }

    @for(otherAncestorCode <- display.otherAncestors) {
      <li>
        <span class="tree-dot"></span>
        <span class="tree-desc">
          <span class="tree-desc-wrapper">@Html(otherAncestorCode.getFriendlyDescription)</span>
        </span>
        <span class="tree-code">@otherAncestorCode.getAlias</span>
      </li>
    }

    <li class="last">
      <span class="tree-dot" aria-hidden="true"></span>
      <span class="tree-desc">
        <span class="tree-desc-wrapper">@Html(display.friendlyDescription)</span>
      </span>
      <span class="tree-code">@display.controlCodeAlias</span>
    </li>

  </ul>

  @twoThirdsColumn {

    <h2 class="heading-medium">
      Additional information about this item
    </h2>

    <div class="stored-content-container">
    @Html(display.clauseText)
    </div>

    @if(!display.specifications.isEmpty) {
      <ul class="list list-bullet">
      @for(spec <- display.specifications) {
        <li>@Html(spec)</li>
      }
      </ul>
    }

    <form action="@AdditionalSpecificationsController.handleSubmit()" method="POST">

      @contextFormParams()

      @formRadioBoolean(form("stillDescribesItems"), Html("Does this still describe your items?"), "Yes", "No")

      @if(display.showTechNotesQuestion) {
        <div class="js-hidden" id="showTechNotes-wrapper">
          <h2 class="heading-medium">
            Do you want to read technical information about this item?
          </h2>

          <p>
            These notes can include measurements and definitions of technical terms.
          </p>

          @formRadioBoolean(form("showTechNotes"), Html("Do you want to read technical information about this item?"), "Yes", "No")
        </div>
      }

      <div class="form-group">
        <button type="submit" class="button">Continue</button>
      </div>

    </form>

    <script type="application/javascript">
      $(document).ready(function(){LITEPermissionsFinder.AdditionalSpecifications.setupPage()})
    </script>
  }

}